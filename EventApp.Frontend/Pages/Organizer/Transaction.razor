@page "/Transactions"
@inject IClientTransactionService TransactionClient

<MudContainer MaxWidth="MaxWidth.Large" Class="mt-6">
    <MudText Typo="Typo.h4" Class="mb-4">My Transactions</MudText>

    <MudTable Items="myTransactions"
              Hover="true"
              Dense="true">
        <HeaderContent>
            <MudTh Style="background-color: #000000; color:white;">Event</MudTh>
            <MudTh Style="background-color: #000000; color:white;">User</MudTh>
            <MudTh Style="background-color: #000000; color:white;">Email</MudTh>
            <MudTh Style="background-color: #000000; color:white;">Price</MudTh>
           @*  <MudTh Style="background-color: #000000; color:white;">Paid</MudTh> *@
            <MudTh Style="background-color: #000000; color:white;">Approved</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Event" Style="background-color: #0B192C; color:white;">@context.Event.Title</MudTd>
            <MudTd DataLabel="User" Style="background-color: #0B192C; color:white;">@context.User.Username</MudTd>
            <MudTd DataLabel="Email" Style="background-color: #0B192C; color:white;">@context.User.Email</MudTd>
            <MudTd DataLabel="Price" Style="background-color: #0B192C; color:white;">₱ @context.price.ToString("N2")</MudTd>
           @*  <MudTd DataLabel="Paid" Style="background-color: #0B192C; color:white;">@(context.isPaid ? "✅" : "❌")</MudTd> *@
            <MudTd DataLabel="Approved" Style="background-color: #0B192C; color:white;">@(context.isApprove ? "✅" : "--")</MudTd>
        </RowTemplate>
    </MudTable>
</MudContainer>


@code {
    private List<EventTransaction> myTransactions = new();

    protected override async Task OnInitializedAsync()
    {
        myTransactions = await TransactionClient.GetMyTransactionsAsync();
    }
}
